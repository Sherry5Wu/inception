#
# These groups are read by MariaDB server.
# Use it for options that only the server (but not clients) should see

# This is read by the standalone daemon and embedded servers
# Using "[section]" to separate different section, for example [server],[client]
[server]

# This is only for the mysqld standalone daemon
[mysqld]

#
# * Basic Settings
#

user                  = mysql 			#Specifies the system user that the server runs as (usually is mysql)
port                  = 3306			#The TCP port on which the server listens, default is 3306
bind-address          = 0.0.0.0         #IP address to bind to (0.0.0.0 means listening at all the IPs)
basedir               = /usr            #Base installation directory of MySQL
datadir               = /var/lib/mysql  #Directory where MySQL stores data
tmpdir                = /tmp            #Temporary file directory
lc-messages-dir       = /usr/share/mysql #Location of message translation files
lc-messages           = en_US           #Language setting for error messages
skip-networking       = false           #Disables networking if true
skip-name-resolve     = 1               #improve connection speed and force using IPs rather than hostnames (reduces DNS lookups).
server-id             = 1

#
# * Logging and Replication
#

max_allowed_packet   = 256M
max_connections      = 200
log_error            = /var/log/mysql/error.log
slow_query_log       = 1
slow_query_log_file  = /var/log/mysql/mariadb-slow.log
long_query_time      = 10
# To enable binary logging (if replication or point-in-time recovery is needed).
log_bin              = /var/log/mysql/mysql-bin.log
# Defines how many days binary logs are retained before they are automatically deleted.
expire_logs_days     = 10


#
# * Character sets
#

# MySQL/MariaDB defalut is Latin1, but in Debian we rather default to the full
# utf8 4-byte character set.
character-set-server = utf8mb4
# Defines the collation (sorting and comparison rules) for the server.
# general_ci means case-insensitive comparison — e.g., A and a are treated
# as equal when sorting or comparing.
collation-server     = utf8mb4_general_ci

#
# * InnoDB
#

# Sets the amount of memory allocated to the InnoDB storage engine’s buffer pool,
# which caches data and indexes.
innodb_buffer_pool_size = 420M
innodb_log_file_size    = 256M  #larger redo logs can improve write performance.
innodb_flush_log_at_trx_commit = 1

[client]
defalut-character-set   = utf8mb4
